- name: ensure get-pip.py is available
  get_url:
  args:
    url: https://bootstrap.pypa.io/get-pip.py
    dest: /root/get-pip.py

- name: ensure pip is installed
  shell: python2.7 /root/get-pip.py
  args:
    creates: /usr/bin/pip

- name: copy .whl files from ~/pypkg27
  #copy: src=~/pypkg27 dest=/root
  synchronize: src=~/pypkg27 dest=/root group=no owner=no

- name: install pip
  pip: state=latest extra_args='--no-index --find-links=/root/pypkg27' name=pip

- name: install setuptools
  pip: state=latest extra_args='--no-index --find-links=/root/pypkg27' name=setuptools

- name: install setuptools-metadata
  pip: state=latest extra_args='--no-index --find-links=/root/pypkg27' name=setuptools-metadata

- name: install setuptools-version-command
  pip: state=latest extra_args='--no-index --find-links=/root/pypkg27' name=setuptools-version-command

- name: install virtualenv
  pip: state=latest extra_args='--no-index --find-links=/root/pypkg27' name=virtualenv

- name: install wheel
  pip: state=latest extra_args='--no-index --find-links=/root/pypkg27' name=wheel

